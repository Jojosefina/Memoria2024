{% extends "navbar.html" %}{% load static %} {% block content %}

<h2 class="barlow-extrabold" style="font-size: 56px; padding: 49px 0 49px 80px">
  {{ documento.titulo }}
  <a href="{% url 'agregar_favorito' documento.id_documento %}">
    {% if fav %}
    <i
      class="fa-solid fa-bookmark fa-xs"
      style="color: rgba(168, 68, 122, 0.7)"
    ></i>
    {% else %}
    <i class="fa-regular fa-bookmark fa-xs"></i>
    {% endif %}
  </a>
</h2>
<div class="container mb-5 pb-5">
  <div class="row">
    <div class="col-7">
      <!-- Espaciado entre elementos -->
      <p class="barlow-semibold" style="font-size: 30px">
        <strong>Autor:</strong> {{ documento.id_usuario }}
      </p>
      <p class="barlow-semibold" style="font-size: 30px">
        <strong>Asignatura:</strong> {{ documento.id_asignaturas }}
      </p>
      <p class="barlow-semibold" style="font-size: 30px">
        <strong>Profesor/a:</strong> {{ documento.profesor.nombre }}
        {{documento.profesor.apellido }}
      </p>
      <p class="barlow-semibold" style="font-size: 30px">
        <strong>Tipo de Material:</strong> {{ documento.id_tipo_material }}
      </p>
      <p class="barlow-semibold" style="font-size: 30px">
        <strong>Calificaci칩n:</strong> {{ documento.calificacion }}
      </p>
      <p class="barlow-semibold" style="font-size: 30px">
        <strong>Cantidad de Descargas:</strong> {{documento.cantidad_descargas}}
      </p>
    </div>
    <!-- Bot칩n para descargar el documento -->
    <div class="col">
      <p class="barlow-semibold" style="font-size: 30px">
        <strong>Etiquetas:</strong>
        {% for etiqueta in etiquetas %}
        <span class="tag-bg" style="font-size: 20px; padding: 5px"
          >{{ etiqueta }}</span
        >
        {% endfor %}
      </p>
      <!-- M치rgenes para espaciado -->
      <a
        href="{% url 'download_document' id_documento=documento.id_documento %}"
        class="btn custom-btn"
        style="
          font-size: 40px;
          margin-top: 20px;
          width: 400px;
          height: 100px;
          display: flex;
          align-items: center;
          justify-content: center;
          text-shadow: 5px 5px 10px rgba(0, 0, 0, 0.5);
        "
      >
        <i
          class="fa fa-download"
          style="color: white; font-size: 40px; margin-right: 30px"
        ></i>
        Descargar
        <!-- Ajuste para separar el icono del texto -->
      </a>

      <div class="mt-4">
        <strong class="barlow-extrabold" style="font-size: 30px"
          >Calificar:</strong
        >
        <form method="post" action="{% url 'Post' documento.id_documento %}">
          {% csrf_token %}

          <div class="mb-3">
            {{ rate_form.calificacion }}
            <span
              id="calificacion-value"
              class="d-flex justify-content-center barlow-medium"
              style="font-size: 20px"
              >Desliza para calificar</span
            >
          </div>
          <div class="d-flex justify-content-center mt-3">
            <button
              type="submit"
              class="btn custom-btn"
              style="font-size: 20px"
            >
              Enviar Calificaci칩n
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="col-6 mt-5">
    <h1 class="barlow-extrabold">Comentarios</h1>
    <div class="container comment-container">
      {% for comentario in comentarios %}
      <div class="comment">
        <p class="barlow-semibold" style="font-size: 27px">
          <strong>{{ comentario.id_usuario }}</strong> -
          <span class="barlow-medium" style="font-size: 22px"
            >{{ comentario.fecha }}</span
          >
        </p>
        <p class="barlow-medium mx-4" style="font-size: 22px">
          {{ comentario.contenido }}
        </p>
      </div>
      {% endfor %}
      <form id="comment-form" method="post">
        {% csrf_token %}
        <div class="form-group">{{ form.contenido }}</div>
        <div class="d-flex justify-content-end mt-2">
          <button
            type="submit"
            class="btn custom-btn"
            style="width: auto; height: auto"
          >
            Publicar Comentario
          </button>
        </div>
      </form>
    </div>
    <script src="{% static 'js/post.js' %}"></script>
    {% endblock %}
  </div>
</div>
